2018-07-28 21:41:45,353 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 21:41:45,375 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 21:42:52,908 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 21:42:52,931 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 21:43:36,106 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 21:43:36,129 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 21:43:37,820 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 21:43:37,987 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=oMNol0Yk9XeI_0jHsYuFgFsQ2h6s&grant_type=authorization_code HTTP/1.1" 200 76
2018-07-28 21:43:37,989 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 47, in login
    data = data_to_fe(data)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-28 21:43:37,997 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

2018-07-28 21:46:03,837 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 21:46:05,390 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 21:46:26,687 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 21:46:26] "GET / HTTP/1.1" 200 -
2018-07-28 21:46:27,183 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 21:46:27] "GET /favicon.ico HTTP/1.1" 404 -
2018-07-28 22:05:27,827 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:05:29,397 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:06:09,438 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:06:09] "GET /user/login?code=001KOYOj2Bjz6H0NXbOj2A4FOj2KOYOS HTTP/1.1" 404 -
2018-07-28 22:07:19,301 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:07:20,592 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:07:57,055 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:07:57,285 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=061tsJT32RayVN0DmUU32rfKT32tsJTb&grant_type=authorization_code HTTP/1.1" 200 83
2018-07-28 22:07:57,293 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 47, in login
    data = data_to_fe(data)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-28 22:07:57,310 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/user/login [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application
2018-07-28 22:07:57,327 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-07-28 22:07:57,329 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:07:57] "GET /api/user/login?code=061tsJT32RayVN0DmUU32rfKT32tsJTb HTTP/1.1" 200 -
2018-07-28 22:24:34,863 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:24:36,386 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:24:43,091 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:24:43,335 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=061SSTOP1QpfY918Y5NP1HBGOP1SSTOW&grant_type=authorization_code HTTP/1.1" 200 83
2018-07-28 22:24:43,343 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 47, in login
    data = data_to_fe(data)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-28 22:24:43,358 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/user/login [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg=msg)
common.exceptions.RPCException: RPCException <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>
2018-07-28 22:24:43,376 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-07-28 22:24:43,378 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:24:43] "GET /api/user/login?code=061SSTOP1QpfY918Y5NP1HBGOP1SSTOW HTTP/1.1" 200 -
2018-07-28 22:27:06,658 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/user/login [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.DEADLINE_EXCEEDED, Deadline Exceeded)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg=msg)
common.exceptions.RPCException: RPCException <_Rendezvous of RPC that terminated with (StatusCode.DEADLINE_EXCEEDED, Deadline Exceeded)>
2018-07-28 22:27:06,673 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-07-28 22:27:06,675 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:27:06] "GET /api/user/login?code=011Eh31e0ibxNA1JdA2e0PH91e0Eh316 HTTP/1.1" 200 -
2018-07-28 22:27:13,987 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:27:14,231 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=011Eh31e0ibxNA1JdA2e0PH91e0Eh316&grant_type=authorization_code HTTP/1.1" 200 83
2018-07-28 22:28:33,774 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:28:35,255 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:28:43,276 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:28:43,488 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=061fMZRL1oy8F51vOUSL1ATXRL1fMZRB&grant_type=authorization_code HTTP/1.1" 200 83
2018-07-28 22:29:10,781 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py[func:_transform line:89] [ERROR] Exception serializing message!
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py", line 87, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' requires a 'google.protobuf.pyext._message.CMessage' object but received a 'NoneType'
2018-07-28 22:29:10,794 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/user/login [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.INTERNAL, Failed to serialize response!)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg=msg)
common.exceptions.RPCException: RPCException <_Rendezvous of RPC that terminated with (StatusCode.INTERNAL, Failed to serialize response!)>
2018-07-28 22:29:10,811 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-07-28 22:29:10,813 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:29:10] "GET /api/user/login?code=061fMZRL1oy8F51vOUSL1ATXRL1fMZRB HTTP/1.1" 200 -
2018-07-28 22:30:58,092 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:30:58,305 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=071V3H5T0qggsY1r4L6T09GB5T0V3H5j&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:31:28,069 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/user/login [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.DEADLINE_EXCEEDED, Deadline Exceeded)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg=msg)
common.exceptions.RPCException: RPCException <_Rendezvous of RPC that terminated with (StatusCode.DEADLINE_EXCEEDED, Deadline Exceeded)>
2018-07-28 22:31:28,077 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-07-28 22:31:28,079 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:31:28] "GET /api/user/login?code=071V3H5T0qggsY1r4L6T09GB5T0V3H5j HTTP/1.1" 200 -
2018-07-28 22:32:08,721 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py[func:_transform line:89] [ERROR] Exception serializing message!
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py", line 87, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' requires a 'google.protobuf.pyext._message.CMessage' object but received a 'NoneType'
2018-07-28 22:32:51,893 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:32:53,346 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:33:01,651 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:33:01,871 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=071sVhUE1Gpvg203eVTE1WbhUE1sVhU-&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:33:03,106 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py[func:_transform line:89] [ERROR] Exception serializing message!
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py", line 87, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' requires a 'google.protobuf.pyext._message.CMessage' object but received a 'NoneType'
2018-07-28 22:37:33,042 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:37:34,668 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:37:44,745 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:37:44,973 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=081enSls1922Dn0Iscls1FhUls1enSl8&grant_type=authorization_code HTTP/1.1" 200 83
2018-07-28 22:37:46,916 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py[func:_transform line:89] [ERROR] Exception serializing message!
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py", line 87, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' requires a 'google.protobuf.pyext._message.CMessage' object but received a 'NoneType'
2018-07-28 22:41:15,792 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:41:17,293 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:41:26,072 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:41:26,314 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=011AL2fF1m1uV108Z4dF1FbhfF1AL2f6&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:41:27,431 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py[func:_transform line:89] [ERROR] Exception serializing message!
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py", line 87, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' requires a 'google.protobuf.pyext._message.CMessage' object but received a 'NoneType'
2018-07-28 22:41:27,444 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/user/login [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 37, in login
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.INTERNAL, Failed to serialize response!)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    msg = traceback.format_exc(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/traceback.py", line 163, in format_exc
    return "".join(format_exception(*sys.exc_info(), limit=limit, chain=chain))
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/traceback.py", line 117, in format_exception
    type(value), value, tb, limit=limit).format(chain=chain))
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/traceback.py", line 497, in __init__
    capture_locals=capture_locals)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/traceback.py", line 332, in extract
    if limit >= 0:
TypeError: '>=' not supported between instances of '_Rendezvous' and 'int'
2018-07-28 22:41:27,463 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-07-28 22:41:27,465 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:41:27] "GET /api/user/login?code=011AL2fF1m1uV108Z4dF1FbhfF1AL2f6 HTTP/1.1" 200 -
2018-07-28 22:42:33,805 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:42:34,021 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=061720JE0lgsPc2fbgGE0bqWIE0720Jr&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:42:47,578 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:42:48,903 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:42:54,467 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:42:54,710 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=001EyMQN0bMPZ32pIuSN0EoxQN0EyMQJ&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:42:55,728 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py[func:_transform line:89] [ERROR] Exception serializing message!
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py", line 87, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' requires a 'google.protobuf.pyext._message.CMessage' object but received a 'NoneType'
2018-07-28 22:43:48,644 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:43:50,236 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:43:56,426 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:43:56,629 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=021q5zw91yqyoR1xSXv91HVuw91q5zw9&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:43:57,434 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py[func:_transform line:89] [ERROR] Exception serializing message!
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py", line 87, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' requires a 'google.protobuf.pyext._message.CMessage' object but received a 'NoneType'
2018-07-28 22:43:58,276 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/user/login [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 37, in login
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.INTERNAL, Failed to serialize response!)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 41, in login
    raise RPCException(msg=msg)
common.exceptions.RPCException: RPCException Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 37, in login
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.INTERNAL, Failed to serialize response!)>

2018-07-28 22:43:58,295 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-07-28 22:43:58,297 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:43:58] "GET /api/user/login?code=021q5zw91yqyoR1xSXv91HVuw91q5zw9 HTTP/1.1" 200 -
2018-07-28 22:44:48,201 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:44:49,342 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:44:56,771 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:44:56,998 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=071mIyxd2EoAaD0nanzd27Sxxd2mIyxl&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:44:58,343 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py[func:_transform line:89] [ERROR] Exception serializing message!
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_common.py", line 87, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' requires a 'google.protobuf.pyext._message.CMessage' object but received a 'NoneType'
2018-07-28 22:45:09,538 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/user/login [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    metadata=metadata,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.INTERNAL, Failed to serialize response!)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 41, in login
    raise RPCException(msg=msg)
common.exceptions.RPCException: RPCException Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    metadata=metadata,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.INTERNAL, Failed to serialize response!)>

2018-07-28 22:45:09,551 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-07-28 22:45:09,553 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:45:09] "GET /api/user/login?code=071mIyxd2EoAaD0nanzd27Sxxd2mIyxl HTTP/1.1" 200 -
2018-07-28 22:46:51,894 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:46:53,213 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:46:58,895 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:46:59,122 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=001i4Wo900jmmw136Mm90oyIo90i4Wou&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:49:19,527 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-28 22:49:21,232 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-07-28 22:49:26,904 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:49:27,161 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=011Gupxq0jTVio1D0xuq0eb7xq0GupxT&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:49:32,400 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:49:32] "GET /api/user/login?code=011Gupxq0jTVio1D0xuq0eb7xq0GupxT HTTP/1.1" 200 -
2018-07-28 22:50:46,790 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:50:47,002 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=081hXsDZ1vDxg11TGiGZ1iezDZ1hXsDL&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:50:47,015 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:50:47] "GET /api/user/login?code=081hXsDZ1vDxg11TGiGZ1iezDZ1hXsDL HTTP/1.1" 200 -
2018-07-28 22:52:18,303 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-28 22:52:18,521 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=021tt4a02Tp5lZ0mbn9026D5a02tt4a9&grant_type=authorization_code HTTP/1.1" 200 82
2018-07-28 22:52:18,547 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [28/Jul/2018 22:52:18] "GET /api/user/login?code=021tt4a02Tp5lZ0mbn9026D5a02tt4a9 HTTP/1.1" 200 -
2018-09-02 18:57:11,959 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-09-02 18:58:20,279 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-09-02 18:58:21,968 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-09-02 18:58:43,117 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-09-02 18:58:44,458 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-09-02 18:58:47,279 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [02/Sep/2018 18:58:47] "GET / HTTP/1.1" 200 -
2018-09-02 18:58:47,359 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [02/Sep/2018 18:58:47] "GET /favicon.ico HTTP/1.1" 404 -
2018-09-02 18:59:54,973 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [02/Sep/2018 18:59:54] "GET /notebook HTTP/1.1" 404 -
2018-09-02 19:00:31,621 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [02/Sep/2018 19:00:31] "GET /notebook HTTP/1.1" 404 -
2018-09-02 19:00:48,372 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)") (Background on this error at: http://sqlalche.me/e/e3q8)
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 582, in connect
    **kwargs)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socket.py", line 722, in create_connection
    raise err
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socket.py", line 713, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 791, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1196, in _do_get
    self._dec_overflow()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 249, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    return self._create_connection()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 674, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 412, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 629, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 39, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 87, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3009, in _execute_and_instances
    close_with_result=True)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3018, in _get_bind_args
    **kw
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3000, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1035, in connection
    execution_options=execution_options)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1040, in _connection_for_bind
    engine, execution_options)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2123, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2162, in _wrap_pool_connect
    e, dialect, self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1476, in _handle_dbapi_exception_noconnection
    exc_info
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 791, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1196, in _do_get
    self._dec_overflow()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 249, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    return self._create_connection()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 674, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 412, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 629, in connect
    raise exc
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)") (Background on this error at: http://sqlalche.me/e/e3q8)
2018-09-02 19:00:48,428 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/notebook [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)") (Background on this error at: http://sqlalche.me/e/e3q8))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/notebook.py", line 29, in user
    user = user_client.user_by_id(notebook_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application
2018-09-02 19:00:48,445 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-09-02 19:00:48,447 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [02/Sep/2018 19:00:48] "GET /api/notebook HTTP/1.1" 200 -
2018-09-02 19:19:00,963 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-09-02 19:19:02,945 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO]  * Running on http://0.0.0.0:5002/ (Press CTRL+C to quit)
2018-09-02 19:19:21,334 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)") (Background on this error at: http://sqlalche.me/e/e3q8)
Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 582, in connect
    **kwargs)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socket.py", line 722, in create_connection
    raise err
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socket.py", line 713, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 791, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1196, in _do_get
    self._dec_overflow()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 249, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    return self._create_connection()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 674, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 412, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 629, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 39, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 87, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3009, in _execute_and_instances
    close_with_result=True)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3018, in _get_bind_args
    **kw
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3000, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1035, in connection
    execution_options=execution_options)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1040, in _connection_for_bind
    engine, execution_options)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2123, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2162, in _wrap_pool_connect
    e, dialect, self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1476, in _handle_dbapi_exception_noconnection
    exc_info
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 791, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1196, in _do_get
    self._dec_overflow()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 249, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    return self._create_connection()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/pool.py", line 674, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 412, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pymysql/connections.py", line 629, in connect
    raise exc
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)") (Background on this error at: http://sqlalche.me/e/e3q8)
2018-09-02 19:19:21,376 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py[func:log_exception line:1761] [ERROR] Exception on /api/notebook [GET]
Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)") (Background on this error at: http://sqlalche.me/e/e3q8))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/notebook.py", line 29, in user
    user = user_client.user_by_id(notebook_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application
2018-09-02 19:19:21,393 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] NoneType: None

2018-09-02 19:19:21,396 /usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/werkzeug/_internal.py[func:_log line:88] [INFO] 127.0.0.1 - - [02/Sep/2018 19:19:21] "GET /api/notebook HTTP/1.1" 200 -
2018-09-02 22:55:44,204 /Users/Shared/go/src/kuaibiji/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
