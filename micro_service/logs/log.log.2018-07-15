2018-07-15 02:05:37,448 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'UserManager' object has no attribute 'user_by_userid'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 34, in get_user_info
    user_data = user_manger.user_by_userid(user_id)
AttributeError: 'UserManager' object has no attribute 'user_by_userid'
2018-07-15 02:07:43,106 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:07:43,151 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:07:44,039 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'UserManager' object has no attribute 'user_by_userid'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 34, in get_user_info
AttributeError: 'UserManager' object has no attribute 'user_by_userid'
2018-07-15 02:07:44,044 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'UserManager' object has no attribute 'user_by_userid')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:07:53,416 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:07:53,448 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:07:54,402 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'UserManager' object has no attribute 'user_by_userid'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 34, in get_user_info
AttributeError: 'UserManager' object has no attribute 'user_by_userid'
2018-07-15 02:07:54,407 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'UserManager' object has no attribute 'user_by_userid')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:08:06,835 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:08:06,872 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:08:07,798 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'UserManager' object has no attribute 'user_by_userid'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 34, in get_user_info
AttributeError: 'UserManager' object has no attribute 'user_by_userid'
2018-07-15 02:08:07,802 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'UserManager' object has no attribute 'user_by_userid')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:08:38,003 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:08:38,027 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:08:39,860 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'sessionmaker' object has no attribute 'query'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 84, in load_data_one
    res = self.session.query(model).filter(*fq).one()
AttributeError: 'sessionmaker' object has no attribute 'query'
2018-07-15 02:08:39,876 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'sessionmaker' object has no attribute 'query')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:11:50,284 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:11:50,321 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:11:51,306 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'sessionmaker' object has no attribute 'query'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 84, in load_data_one
    fq = self.filter_query(model, query)
AttributeError: 'sessionmaker' object has no attribute 'query'
2018-07-15 02:11:51,315 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'sessionmaker' object has no attribute 'query')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:11:59,171 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:11:59,233 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:12:00,048 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'sessionmaker' object has no attribute 'query'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 84, in load_data_one
    fq = self.filter_query(model, query)
AttributeError: 'sessionmaker' object has no attribute 'query'
2018-07-15 02:12:00,053 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'sessionmaker' object has no attribute 'query')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:12:23,998 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:12:24,024 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:12:25,225 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'sessionmaker' object has no attribute 'query'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 84, in load_data_one
    fq = self.filter_query(model, query)
AttributeError: 'sessionmaker' object has no attribute 'query'
2018-07-15 02:12:25,230 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'sessionmaker' object has no attribute 'query')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:13:06,812 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:13:06,841 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:13:07,848 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'sessionmaker' object has no attribute 'query'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 84, in load_data_one
AttributeError: 'sessionmaker' object has no attribute 'query'
2018-07-15 02:13:07,853 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'sessionmaker' object has no attribute 'query')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:13:17,745 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:13:17,773 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:13:18,853 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'sessionmaker' object has no attribute 'query'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 84, in load_data_one
AttributeError: 'sessionmaker' object has no attribute 'query'
2018-07-15 02:13:18,857 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'sessionmaker' object has no attribute 'query')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:14:29,546 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:14:29,568 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:14:31,451 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'db_notebook.tb_user' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 86, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-07-15 02:14:31,478 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:16:10,061 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:16:10,088 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:16:10,874 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'db_notebook.tb_user' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 86, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-07-15 02:16:10,878 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:16:21,391 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:16:21,416 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:18:26,639 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:18:26,664 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:18:27,751 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'db_notebook.tb_user' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    return d
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 86, in load_data_one
    fq = self.filter_query(model, query)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-07-15 02:18:27,757 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:18:31,748 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:18:31,789 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:18:32,773 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'db_notebook.tb_user' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    return d
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 86, in load_data_one
    fq = self.filter_query(model, query)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-07-15 02:18:32,777 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.ProgrammingError) (1146, "Table 'db_notebook.tb_user' doesn't exist") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/f405))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:18:48,158 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:18:48,181 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:18:49,820 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'UserManager' object has no attribute 'db_name'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 33, in get_user_info
    user_manger = UserManager()
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 21, in __init__
    super(UserManager, self).__init__()
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 34, in __init__
    mysql_engine = option.mysql_engine.format(self.db_name)
AttributeError: 'UserManager' object has no attribute 'db_name'
2018-07-15 02:18:49,833 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'UserManager' object has no attribute 'db_name')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:19:08,717 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:19:08,745 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:19:09,565 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'UserManager' object has no attribute 'db_name'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 33, in get_user_info
    user_manger = UserManager()
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 21, in __init__
    super(UserManager, self).__init__()
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 34, in __init__
    mysql_engine = option.mysql_engine.format(self.db_name)
AttributeError: 'UserManager' object has no attribute 'db_name'
2018-07-15 02:19:09,567 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'UserManager' object has no attribute 'db_name')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:19:39,605 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:19:39,648 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:19:40,575 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'UserManager' object has no attribute 'db_name'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 33, in get_user_info
    user_manger = UserManager()
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 21, in __init__
    self.db_name = 'db_user'
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 34, in __init__
    mysql_engine = option.mysql_engine.format(self.db_name)
AttributeError: 'UserManager' object has no attribute 'db_name'
2018-07-15 02:19:40,616 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'UserManager' object has no attribute 'db_name')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:19:51,797 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:19:51,819 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:19:53,797 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'tb_user.name' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 87, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
2018-07-15 02:19:53,820 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:20:40,287 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:20:40,326 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:20:41,324 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'tb_user.name' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 87, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
2018-07-15 02:20:41,329 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:21:40,510 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:21:40,534 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:21:42,464 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'tb_user.name' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 87, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
2018-07-15 02:21:42,477 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:23:14,772 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:23:14,796 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:23:15,927 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'tb_user.name' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 87, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
2018-07-15 02:23:15,932 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:23:19,551 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:23:19,572 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:23:20,550 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'tb_user.name' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 87, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
2018-07-15 02:23:20,557 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:23:53,983 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:23:54,008 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:23:54,974 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'tb_user.name' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 38, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 87, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3011, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 509, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85)
2018-07-15 02:23:55,036 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.InternalError) (1054, "Unknown column 'tb_user.name' in 'field list'") [SQL: 'SELECT tb_user.id AS tb_user_id, tb_user.name AS tb_user_name, tb_user.update_time AS tb_user_update_time, tb_user.create_time AS tb_user_create_time \nFROM tb_user \nWHERE tb_user.id = %(id_1)s'] [parameters: {'id_1': '1'}] (Background on this error at: http://sqlalche.me/e/2j85))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:23:57,960 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:24:32,607 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:24:32,633 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:24:34,842 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 1 has type int, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 44, in get_user_info
    return user_pb2.GetUserResponse(**res)
TypeError: 1 has type int, but expected one of: bytes, unicode
2018-07-15 02:24:34,848 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 1 has type int, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:25:24,154 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:25:24,179 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:25:25,131 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 1 has type int, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 44, in get_user_info
    return user_pb2.GetUserResponse(**res)
TypeError: 1 has type int, but expected one of: bytes, unicode
2018-07-15 02:25:25,134 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 1 has type int, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:25:30,664 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:25:30,688 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:25:32,623 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 44, in get_user_info
    return user_pb2.GetUserResponse(**res)
TypeError: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
2018-07-15 02:25:32,626 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:26:27,058 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:26:27,095 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:26:28,180 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 44, in get_user_info
TypeError: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
2018-07-15 02:26:28,185 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:26:32,370 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:26:32,395 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:26:34,322 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:42] [DEBUG] =======user_data========
2018-07-15 02:26:34,323 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:26:34,323 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 49, in get_user_info
    return user_pb2.GetUserResponse(**res)
TypeError: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
2018-07-15 02:26:34,327 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:27:52,202 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:27:52,232 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:27:53,683 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:42] [DEBUG] =======user_data========
2018-07-15 02:27:53,683 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:27:53,684 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 49, in get_user_info
    return user_pb2.GetUserResponse(**res)
TypeError: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
2018-07-15 02:27:53,689 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:31:43,164 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:31:43,201 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:31:44,102 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:42] [DEBUG] =======user_data========
2018-07-15 02:31:44,102 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:31:44,103 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 49, in get_user_info
    return user_pb2.GetUserResponse(**res)
TypeError: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
2018-07-15 02:31:44,113 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:31:50,417 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:31:50,466 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:31:51,591 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:42] [DEBUG] =======user_data========
2018-07-15 02:31:51,591 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:31:51,592 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 49, in get_user_info
    return user_pb2.GetUserResponse(**res)
TypeError: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
2018-07-15 02:31:51,602 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:32:13,562 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:32:13,586 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:32:15,546 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:42] [DEBUG] =======user_data========
2018-07-15 02:32:15,546 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:32:15,547 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 49, in get_user_info
    return user_pb2.GetUserResponse(**res)
TypeError: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
2018-07-15 02:32:15,558 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:35:12,458 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:12,513 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:13,528 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:42] [DEBUG] =======user_data========
2018-07-15 02:35:13,529 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:35:13,529 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 49, in get_user_info
    )
TypeError: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
2018-07-15 02:35:13,532 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:35:15,075 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:15,099 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:15,962 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:16,014 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:17,140 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:42] [DEBUG] =======user_data========
2018-07-15 02:35:17,140 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:35:17,141 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 49, in get_user_info
    )
TypeError: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode
2018-07-15 02:35:17,144 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: datetime.datetime(2018, 7, 14, 18, 4, 20) has type datetime.datetime, but expected one of: bytes, unicode)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:35:25,972 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:25,997 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:27,912 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] =======user_data========
2018-07-15 02:35:27,912 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:35:27,913 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: strptime() argument 1 must be str, not datetime.datetime
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 46, in get_user_info
    data = data_to_fe(user_data)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 21, in data_to_fe
    d['updateTime'] = dtime2str(user.get('update_time', ''))
  File "/Users/Shared/dbj/api.kuaibi/micro_service/utilities/util.py", line 33, in dtime2str
    s = datetime.strptime(date, format)
TypeError: strptime() argument 1 must be str, not datetime.datetime
2018-07-15 02:35:27,918 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: strptime() argument 1 must be str, not datetime.datetime)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:35:36,860 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:36,887 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:35:37,865 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] =======user_data========
2018-07-15 02:35:37,865 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:35:37,866 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: strptime() argument 1 must be str, not datetime.datetime
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 46, in get_user_info
    data = data_to_fe(user_data)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 21, in data_to_fe
    d['updateTime'] = dtime2str(user.get('update_time', ''))
  File "/Users/Shared/dbj/api.kuaibi/micro_service/utilities/util.py", line 33, in dtime2str
    s = datetime.strptime(date, format)
TypeError: strptime() argument 1 must be str, not datetime.datetime
2018-07-15 02:35:37,869 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: strptime() argument 1 must be str, not datetime.datetime)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:36:03,455 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:36:03,480 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:36:04,426 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] =======user_data========
2018-07-15 02:36:04,427 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:36:04,427 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: strptime() argument 1 must be str, not datetime.datetime
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 46, in get_user_info
    data = data_to_fe(user_data)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 21, in data_to_fe
    d['updateTime'] = dtime2str(user.get('update_time', ''))
  File "/Users/Shared/dbj/api.kuaibi/micro_service/utilities/util.py", line 33, in dtime2str
    s = datetime.strftime(date, format)
TypeError: strptime() argument 1 must be str, not datetime.datetime
2018-07-15 02:36:04,430 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: strptime() argument 1 must be str, not datetime.datetime)>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 29, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 02:36:08,312 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:36:08,340 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:36:10,326 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] =======user_data========
2018-07-15 02:36:10,326 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:36:24,106 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:36:24,152 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:36:25,214 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] =======user_data========
2018-07-15 02:36:25,214 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:37:06,363 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:06,395 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:07,365 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] =======user_data========
2018-07-15 02:37:07,366 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:37:11,565 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:11,591 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:12,578 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] =======user_data========
2018-07-15 02:37:12,579 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:37:18,926 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:18,949 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:19,909 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] =======user_data========
2018-07-15 02:37:19,909 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:37:24,763 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:24,786 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:25,766 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:43] [DEBUG] =======user_data========
2018-07-15 02:37:25,767 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] {'id': 1, 'username': 'hello', 'update_time': datetime.datetime(2018, 7, 14, 18, 4, 20), 'create_time': datetime.datetime(2018, 7, 14, 18, 4, 20)}
2018-07-15 02:37:32,580 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:32,603 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:37:34,504 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:37:34,505 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:38:49,470 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:38:49,495 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:38:50,430 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:38:50,431 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:39:00,225 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:00,254 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:01,150 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:39:01,151 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:39:26,244 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:26,302 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:27,403 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:39:27,403 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:39:28,394 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:28,420 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:29,337 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:39:29,337 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:39:32,581 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:32,611 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:33,570 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:39:33,570 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:39:43,812 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:43,835 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:44,884 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:39:44,885 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:39:46,507 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:46,555 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:59,933 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:39:59,962 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:40:00,931 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:40:00,931 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:40:47,041 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:40:47,064 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:41:24,068 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:41:24,094 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:41:57,505 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:41:57,543 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:41:58,669 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:41:58,669 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:43:51,844 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:43:51,868 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:43:52,961 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:43:52,961 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello'}
2018-07-15 02:45:47,807 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:45:47,829 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:45:48,994 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:45:48,995 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello332'}
2018-07-15 02:46:16,489 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:46:16,515 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:46:17,649 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:46:17,650 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello332'}
2018-07-15 02:46:40,753 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:46:40,786 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:46:41,933 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:46:41,933 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello332'}
2018-07-15 02:46:48,311 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:46:48,368 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:46:49,372 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:46:49,373 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello332'}
2018-07-15 02:47:17,335 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:47:17,357 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:47:18,667 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:44] [DEBUG] =======user_data========
2018-07-15 02:47:18,673 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py[func:get_user_info line:45] [DEBUG] {'userId': '1', 'updateTime': '2018-07-14 18:04:20', 'createTime': '2018-07-14 18:04:20', 'userName': 'hello332'}
2018-07-15 02:47:21,942 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 02:47:21,966 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:50:55,446 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:50:55,471 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:52:02,682 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:52:02,714 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:52:04,545 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)") (Background on this error at: http://sqlalche.me/e/e3q8)
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 582, in connect
    **kwargs)
  File "/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socket.py", line 724, in create_connection
    raise err
  File "/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socket.py", line 713, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 791, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1196, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 249, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 674, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 412, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.6/site-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 629, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/services/user_service.py", line 26, in GetUserInfo
    return get_user_info(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/handlers/get_user_info_handler.py", line 39, in get_user_info
    user_data = user_manger.user_from(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/user/database/user_manger.py", line 61, in user_from
    d = self.load_data_one(query)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/database/mysql_manger.py", line 87, in load_data_one
    res = self.session.query(model).filter(*fq).one()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2947, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2917, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2988, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3009, in _execute_and_instances
    close_with_result=True)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3018, in _get_bind_args
    **kw
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 3000, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1035, in connection
    execution_options=execution_options)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1040, in _connection_for_bind
    engine, execution_options)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2123, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2162, in _wrap_pool_connect
    e, dialect, self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1476, in _handle_dbapi_exception_noconnection
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 265, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 248, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 791, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1196, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 249, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/pool.py", line 674, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 412, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.6/site-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.6/site-packages/pymysql/connections.py", line 629, in connect
    raise exc
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)") (Background on this error at: http://sqlalche.me/e/e3q8)
2018-07-15 22:52:04,564 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 61, in user_by_id
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)") (Background on this error at: http://sqlalche.me/e/e3q8))>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/get_user_info.py", line 30, in get_user
    user = s.user_by_id(user_id)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/user/user_client.py", line 65, in user_by_id
    raise RPCException(msg='calling rpc application')
common.exceptions.RPCException: RPCException calling rpc application

2018-07-15 22:52:35,149 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:52:35,171 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:53:44,084 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:53:44,131 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:53:45,110 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: request() got an unexpected keyword argument 'url_args'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 42, in login
    r = requests.get(url, url_args=url_args)
  File "/usr/local/lib/python3.6/site-packages/requests/api.py", line 70, in get
    return request('get', url, params=params, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/api.py", line 56, in request
    return session.request(method=method, url=url, **kwargs)
TypeError: request() got an unexpected keyword argument 'url_args'
2018-07-15 22:53:45,124 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: request() got an unexpected keyword argument 'url_args')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

2018-07-15 22:58:30,172 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:58:30,200 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:58:31,089 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: request() got an unexpected keyword argument 'url_args'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 42, in login
    r = requests.get(url, params=url_args)
  File "/usr/local/lib/python3.6/site-packages/requests/api.py", line 70, in get
    return request('get', url, params=params, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/api.py", line 56, in request
    return session.request(method=method, url=url, **kwargs)
TypeError: request() got an unexpected keyword argument 'url_args'
2018-07-15 22:58:31,094 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: request() got an unexpected keyword argument 'url_args')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

2018-07-15 22:58:35,045 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:58:35,067 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:58:36,703 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-15 22:58:36,883 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=oMNol0Yk9XeI_0jHsYuFgFsQ2h6s&grant_type=authorization_code HTTP/1.1" 200 76
2018-07-15 22:58:36,887 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 44, in login
    date = data_to_fe(data)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-15 22:58:36,898 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

2018-07-15 22:59:38,744 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:59:38,789 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:59:39,899 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-15 22:59:40,052 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=oMNol0Yk9XeI_0jHsYuFgFsQ2h6s&grant_type=authorization_code HTTP/1.1" 200 76
2018-07-15 22:59:40,056 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 44, in login
    print('rrrrrrrrr', r)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-15 22:59:40,059 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

2018-07-15 22:59:51,038 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:59:51,082 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 22:59:52,312 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-15 22:59:52,483 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=oMNol0Yk9XeI_0jHsYuFgFsQ2h6s&grant_type=authorization_code HTTP/1.1" 200 76
2018-07-15 22:59:52,486 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 44, in login
    print('========rrrrrrrrr=====', r)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-15 22:59:52,491 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

2018-07-15 23:00:27,039 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 23:00:27,064 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 23:00:27,781 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-15 23:00:27,906 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=oMNol0Yk9XeI_0jHsYuFgFsQ2h6s&grant_type=authorization_code HTTP/1.1" 200 76
2018-07-15 23:00:27,911 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 44, in login
    print('========rrrrrrrrr=====', r)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-15 23:00:27,915 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

2018-07-15 23:00:35,731 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 23:00:35,755 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 23:00:37,397 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-15 23:00:37,575 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=oMNol0Yk9XeI_0jHsYuFgFsQ2h6s&grant_type=authorization_code HTTP/1.1" 200 72
2018-07-15 23:00:37,579 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 46, in login
    data = data_to_fe(data)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-15 23:00:37,590 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

2018-07-15 23:01:33,535 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 23:01:33,566 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 23:01:34,379 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-15 23:01:34,551 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=oMNol0Yk9XeI_0jHsYuFgFsQ2h6s&grant_type=authorization_code HTTP/1.1" 200 76
2018-07-15 23:01:34,554 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 46, in login
    data = r.content
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-15 23:01:34,561 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

2018-07-15 23:01:38,313 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 23:01:38,337 /Users/Shared/dbj/api.kuaibi/micro_service/common/logger.py[func:__init__ line:29] [INFO] init log
2018-07-15 23:01:40,079 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_new_conn line:818] [DEBUG] Starting new HTTPS connection (1): api.weixin.qq.com
2018-07-15 23:01:40,275 /usr/local/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py[func:_make_request line:395] [DEBUG] https://api.weixin.qq.com:443 "GET /sns/jscode2session?appid=wx871ca01ead43431b&secret=129617ac6483f401faad38baa641580d&js_code=oMNol0Yk9XeI_0jHsYuFgFsQ2h6s&grant_type=authorization_code HTTP/1.1" 200 71
2018-07-15 23:01:40,279 /usr/local/lib/python3.6/site-packages/grpc/_server.py[func:_call_behavior line:393] [ERROR] Exception calling application: 'bytes' object has no attribute 'get'
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/grpc/_server.py", line 385, in _call_behavior
    return behavior(argument, context), True
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/services/weixin_service.py", line 26, in WeixinLogin
    login(request, context)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 47, in login
    data = data_to_fe(data)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/weixin/hdandlers/login_handler.py", line 19, in data_to_fe
    d['openid'] = data.get('openid', '')
AttributeError: 'bytes' object has no attribute 'get'
2018-07-15 23:01:40,282 /Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/service.py[func:teardown_request line:56] [ERROR] Traceback (most recent call last):
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 36, in login
    timeout=option.timeout_client_side,
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 500, in __call__
    return _end_unary_response_blocking(state, call, False, None)
  File "/usr/local/lib/python3.6/site-packages/grpc/_channel.py", line 434, in _end_unary_response_blocking
    raise _Rendezvous(state, None, None, deadline)
grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Exception calling application: 'bytes' object has no attribute 'get')>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 35, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/micro_services/api_kuaibiji/app/views/user/login.py", line 40, in login
    data = WeixinClient().login(args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/weixin_client.py", line 54, in login
    data = login(self.client, args)
  File "/Users/Shared/dbj/api.kuaibi/micro_service/rpc/weixin/handlers/login_handler.py", line 40, in login
    raise RPCException(msg='calling rpc weixin application')
common.exceptions.RPCException: RPCException calling rpc weixin application

